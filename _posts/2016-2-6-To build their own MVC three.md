---
layout: post
title:  "自己动手搭建MVC之三"
date:   2016-2-6 15:01:01 +0800
categories: 框架
tag: 小记
---

* content
{:toc}

我们这个时候已经搭建好了初步的MVC的框架，那我们现在要做的就是提高我们框架的健壮性来完善我们的框架。
今天来给我们的框架新建一个配置加载类、还有一个框架必不可少的日志类。

<font face="STCAIYUN" color='red'>配置加载类</font>

1.  第一步：我们在核心文件目录中新建一个config.PHP。
2.  第二步：我们在类中新建一个静态的数组，用来存放我们已经加载的配置文件。
3.  第三步：新建一个方法，用来接收传来的两个参数。
 
4.  当我们接到两个参数后，我们首先判断我们想加载的配置文件是否已经存在于我们新建的数组中，如果不在，我们还要判断这个配置文件是否存在，如果存在则引入该文件并把该文件的路径放到我们的静态数组中。
 
这样我们就完成了一个可以适合大部分用的一个方法，那我们该怎么使用这个方法呢。
使用方法：

1.  新建一个config的目录。
 
2.  在config目录中新建我们想要配置的文件，我们在新建配置文件中，以数组的方式存放我们想要传过去的值。
 
<font face="STCAIYUN" color='red'>日志类</font>

1.  在核心文件目录中新建一个log.php。
 
2.  首先我们要确定日志的存储位置，是放在文件中，还是放在数据库中，（这里我们以存入文件为例）。
 
3.  为了便于我们管理，在核心文件目录中新建一个drive的目录，来放置我们的各种驱动，比如我们这次讲的日志类，我们就可以在drive中新建一个log的目录，来存放我们的日志驱动，这里我们就放一个存入文件的驱动，如file.php。
 
4.  我们就来编写我们的file.php这个文件，在这里我们需要配置我们日志的存储方式，这里我们是以存入文件为例（存入数据库也是大同小异）。
 
5.  在file.php中新建一个写日志的方法，首先在该方法中要判断我们的存储位置是否存在，如果不存在则新建一个目录，如果存在我们就开始写入我们的日志。