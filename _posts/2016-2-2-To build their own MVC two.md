---
layout: post
title:  "自己动手搭建MVC之二"
date:   2016-2-2 11:31:01 +0800
categories: 框架
tag: 小记
---

* content
{:toc}

我们继续上面讲到搭建自己的框架的好处、搭框架的流程、以及我们的入口文件、自动加载类、路由类。
那么我们今天讲的就控制器类、模型类还有视图类。

<font face="STCAIYUN" color='red'>控制器类：</font>

在我们启动框架的方法里面来进行加载控制器。在加载控制器的时候我们要判断这个文件是否存在，存在的话引入，并实例化。不存在的话，我们可以抛出一个异常。

<font face="STCAIYUN" color='red'>模型类：</font>

模型类主要负责与数据库的交互。这里呢，我们新建一个模型类，我们让这个模型类来继承我们PHP下的PDO扩展，因为PDO中自带有一些链接数据库等方法，我们新建一个构造方法，用PDO的方法来链接我们的数据库，链接好数据库后，我们可以查询数据库中数据，来进行测试。

<font face="STCAIYUN" color='red'>视图类：</font>

视图负责的是向用户来展示，用户想要看到的东西。关于视图类呢，我们可以分开来写，一个方法用来传值（比如我们用assign来接值），一个方法用来加载模板（用display）。这两个方法写到我们的基类中去实现。首先是assign这个方法，也就是我们用来接值的方法，这个方法通过形参，我们把形参中的名与值方法到一个变量中去，因为我们下面要用。这样我们就定义好我们的assign的方法，下面就来实现我们的display方法，这个方法我们是用来加载模板的，这个方法我们接到一个值（就是要加载的视图模板），首先呢，我们判断这个文件是否存在。如果存在直接引入就行了，要是有值呢，把我们刚才存入变量中取出来就行了。